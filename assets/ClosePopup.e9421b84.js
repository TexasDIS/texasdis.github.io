import{e as E,X as Fe,Y as Me,f,w as S,h as v,j as N,b as X,Z as ue,d as $,l as C,s as Ve,$ as De,i as xe,r as q,T as ce,g as O,a0 as Oe,u as Te,a1 as R,a2 as Ke,a3 as ae,a4 as qe,a5 as We,o as Ae,a6 as je,a7 as Ie,k as A,z as Ne,a8 as Xe,a9 as Ye}from"./index.744998d2.js";import{u as Ue,a as Ze,b as Ge,c as ie}from"./QTabs.966c17f5.js";import{a as Je,u as et}from"./use-timeout.e20883e9.js";import{i as Se,j as Le,k as tt,u as ot,a as nt,b as lt,c as it,e as at,d as st,l as rt,r as de,h as ut,f as ct,g as te,m as dt,n as ft}from"./focusout.261686c5.js";var Pt=E({name:"QRouteTab",props:{...Fe,...Ue},emits:Ze,setup(e,{slots:t,emit:n}){const o=Me({useDisableForRouterLinkProps:!1}),{renderTab:l,$tabs:u}=Ge(e,t,n,{exact:f(()=>e.exact),...o});return S(()=>`${e.name} | ${e.exact} | ${(o.resolvedLink.value||{}).href}`,()=>{u.verifyRouteModel()}),()=>l(o.linkTag.value,o.linkAttrs.value)}}),_t=E({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const n=f(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>v("div",{class:n.value},N(t.default))}});const vt=v("div",{class:"q-space"});var $t=E({name:"QSpace",setup(){return()=>vt}});function mt(e,t,n){let o;function l(){o!==void 0&&(ue.remove(o),o=void 0)}return X(()=>{e.value===!0&&l()}),{removeFromHistory:l,addToHistory(){o={condition:()=>n.value===!0,handler:t},ue.add(o)}}}let V=0,oe,ne,D,le=!1,fe,ve,me,_=null;function ht(e){gt(e)&&Ve(e)}function gt(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=De(e),n=e.shiftKey&&!e.deltaX,o=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),l=n||o?e.deltaY:e.deltaX;for(let u=0;u<t.length;u++){const a=t[u];if(tt(a,o))return o?l<0&&a.scrollTop===0?!0:l>0&&a.scrollTop+a.clientHeight===a.scrollHeight:l<0&&a.scrollLeft===0?!0:l>0&&a.scrollLeft+a.clientWidth===a.scrollWidth}return!0}function he(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function j(e){le!==!0&&(le=!0,requestAnimationFrame(()=>{le=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:o}=document.scrollingElement;(D===void 0||t!==window.innerHeight)&&(D=n-t,document.scrollingElement.scrollTop=o),o>D&&(document.scrollingElement.scrollTop-=Math.ceil((o-D)/8))}))}function ge(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:o,overflowX:l}=window.getComputedStyle(t);oe=Se(window),ne=Le(window),fe=t.style.left,ve=t.style.top,me=window.location.href,t.style.left=`-${oe}px`,t.style.top=`-${ne}px`,l!=="hidden"&&(l==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),o!=="hidden"&&(o==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,$.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",j,C.passiveCapture),window.visualViewport.addEventListener("scroll",j,C.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",he,C.passiveCapture))}$.is.desktop===!0&&$.is.mac===!0&&window[`${e}EventListener`]("wheel",ht,C.notPassive),e==="remove"&&($.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",j,C.passiveCapture),window.visualViewport.removeEventListener("scroll",j,C.passiveCapture)):window.removeEventListener("scroll",he,C.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=fe,t.style.top=ve,window.location.href===me&&window.scrollTo(oe,ne),D=void 0)}function pt(e){let t="add";if(e===!0){if(V++,_!==null){clearTimeout(_),_=null;return}if(V>1)return}else{if(V===0||(V--,V>0))return;if(t="remove",$.is.ios===!0&&$.is.nativeMobile===!0){_!==null&&clearTimeout(_),_=setTimeout(()=>{ge(t),_=null},100);return}}ge(t)}function yt(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,pt(t))}}}const H=[];let Q;function bt(e){Q=e.keyCode===27}function wt(){Q===!0&&(Q=!1)}function xt(e){Q===!0&&(Q=!1,xe(e,27)===!0&&H[H.length-1](e))}function Ee(e){window[e]("keydown",bt),window[e]("blur",wt),window[e]("keyup",xt),Q=!1}function Tt(e){$.is.desktop===!0&&(H.push(e),H.length===1&&Ee("addEventListener"))}function pe(e){const t=H.indexOf(e);t>-1&&(H.splice(t,1),H.length===0&&Ee("removeEventListener"))}let I=0;const qt={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ye={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Ht=E({name:"QDialog",inheritAttrs:!1,props:{...ot,...nt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...lt,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const l=O(),{proxy:{$q:u}}=l,a=q(null),h=q(!1),g=q(!1);let c=null,y=null,w,T;const d=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:x}=yt(),{registerTimeout:B}=Je(),{registerTick:F,removeTick:k}=et(),{transitionProps:i,transitionStyle:b}=it(e,()=>ye[e.position][0],()=>ye[e.position][1]),{showPortal:s,hidePortal:m,portalIsAccessible:L,renderPortal:P}=at(l,a,Qe,"dialog"),{hide:z}=st({showing:h,hideOnRouteChange:d,handleShow:_e,handleHide:$e,processOnMount:!0}),{addToHistory:K,removeFromHistory:ke}=mt(h,z,d),ze=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${qt[e.position]}`+(g.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),W=f(()=>h.value===!0&&e.seamless!==!0),Ce=f(()=>e.autoClose===!0?{onClick:He}:{}),Pe=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${W.value===!0?"modal":"seamless"}`,o.class]);S(()=>e.maximized,r=>{h.value===!0&&Z(r)}),S(W,r=>{x(r),r===!0?(ut(G),Tt(U)):(de(G),pe(U))});function _e(r){K(),y=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Z(e.maximized),s(),g.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),F(M)):k(),B(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:p,bottom:J}=document.activeElement.getBoundingClientRect(),{innerHeight:re}=window,ee=window.visualViewport!==void 0?window.visualViewport.height:re;p>0&&J>ee/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ee,J>=re?1/0:Math.ceil(document.scrollingElement.scrollTop+J-ee/2))),document.activeElement.scrollIntoView()}T=!0,a.value.click(),T=!1}s(!0),g.value=!1,n("show",r)},e.transitionDuration)}function $e(r){k(),ke(),se(!0),g.value=!0,m(),y!==null&&(((r&&r.type.indexOf("key")===0?y.closest('[tabindex]:not([tabindex^="-"])'):void 0)||y).focus(),y=null),B(()=>{m(!0),g.value=!1,n("hide",r)},e.transitionDuration)}function M(r){rt(()=>{let p=a.value;p===null||p.contains(document.activeElement)===!0||(p=(r!==""?p.querySelector(r):null)||p.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||p.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||p.querySelector("[autofocus], [data-autofocus]")||p,p.focus({preventScroll:!0}))})}function Y(r){r&&typeof r.focus=="function"?r.focus({preventScroll:!0}):M(),n("shake");const p=a.value;p!==null&&(p.classList.remove("q-animate--scale"),p.classList.add("q-animate--scale"),c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,a.value!==null&&(p.classList.remove("q-animate--scale"),M())},170))}function U(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&Y():(n("escapeKey"),z()))}function se(r){c!==null&&(clearTimeout(c),c=null),(r===!0||h.value===!0)&&(Z(!1),e.seamless!==!0&&(x(!1),de(G),pe(U))),r!==!0&&(y=null)}function Z(r){r===!0?w!==!0&&(I<1&&document.body.classList.add("q-body--dialog"),I++,w=!0):w===!0&&(I<2&&document.body.classList.remove("q-body--dialog"),I--,w=!1)}function He(r){T!==!0&&(z(r),n("click",r))}function Be(r){e.persistent!==!0&&e.noBackdropDismiss!==!0?z(r):e.noShake!==!0&&Y(r.relatedTarget)}function G(r){e.allowFocusOutside!==!0&&L.value===!0&&Oe(a.value,r.target)!==!0&&M('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:M,shake:Y,__updateRefocusTarget(r){y=r||null}}),X(se);const Re=u.platform.is.ios===!0||u.platform.is.safari?"onClick":"onFocusin";function Qe(){return v("div",{role:"dialog","aria-modal":W.value===!0?"true":"false",...o,class:Pe.value},[v(ce,{name:"q-transition--fade",appear:!0},()=>W.value===!0?v("div",{class:"q-dialog__backdrop fixed-full",style:b.value,"aria-hidden":"true",tabindex:-1,[Re]:Be}):null),v(ce,i.value,()=>h.value===!0?v("div",{ref:a,class:ze.value,style:b.value,tabindex:-1,...Ce.value},N(t.default)):null)])}return P}}),Bt=E({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=f(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>v("div",{class:n.value,role:"toolbar"},N(t.default))}}),Rt=E({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=O(),l=Te(ae,R);if(l===R)return console.error("QHeader needs to be child of QLayout"),R;const u=q(parseInt(e.heightHint,10)),a=q(!0),h=f(()=>e.reveal===!0||l.view.value.indexOf("H")>-1||o.platform.is.ios&&l.isContainer.value===!0),g=f(()=>{if(e.modelValue!==!0)return 0;if(h.value===!0)return a.value===!0?u.value:0;const i=u.value-l.scroll.value.position;return i>0?i:0}),c=f(()=>e.modelValue!==!0||h.value===!0&&a.value!==!0),y=f(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),w=f(()=>"q-header q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),T=f(()=>{const i=l.rows.value.top,b={};return i[0]==="l"&&l.left.space===!0&&(b[o.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),i[2]==="r"&&l.right.space===!0&&(b[o.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),b});function d(i,b){l.update("header",i,b)}function x(i,b){i.value!==b&&(i.value=b)}function B({height:i}){x(u,i),d("size",i)}function F(i){y.value===!0&&x(a,!0),n("focusin",i)}S(()=>e.modelValue,i=>{d("space",i),x(a,!0),l.animate()}),S(g,i=>{d("offset",i)}),S(()=>e.reveal,i=>{i===!1&&x(a,e.modelValue)}),S(a,i=>{l.animate(),n("reveal",i)}),S(l.scroll,i=>{e.reveal===!0&&x(a,i.direction==="up"||i.position<=e.revealOffset||i.position-i.inflectionPoint<100)});const k={};return l.instances.header=k,e.modelValue===!0&&d("size",u.value),d("space",e.modelValue),d("offset",g.value),X(()=>{l.instances.header===k&&(l.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const i=Ke(t.default,[]);return e.elevated===!0&&i.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),i.push(v(ie,{debounce:0,onResize:B})),v("header",{class:w.value,style:T.value,onFocusin:F},i)}}}),Qt=E({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:n}}=O(),o=Te(ae,R);if(o===R)return console.error("QPageContainer needs to be child of QLayout"),R;qe(We,!0);const l=f(()=>{const u={};return o.header.space===!0&&(u.paddingTop=`${o.header.size}px`),o.right.space===!0&&(u[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(u.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(u[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),u});return()=>v("div",{class:"q-page-container",style:l.value},N(t.default))}});const{passive:be}=C,St=["both","horizontal","vertical"];var Lt=E({name:"QScrollObserver",props:{axis:{type:String,validator:e=>St.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,l,u;S(()=>e.scrollTarget,()=>{g(),h()});function a(){o!==null&&o();const w=Math.max(0,Le(l)),T=Se(l),d={top:w-n.position.top,left:T-n.position.left};if(e.axis==="vertical"&&d.top===0||e.axis==="horizontal"&&d.left===0)return;const x=Math.abs(d.top)>=Math.abs(d.left)?d.top<0?"up":"down":d.left<0?"left":"right";n.position={top:w,left:T},n.directionChanged=n.direction!==x,n.delta=d,n.directionChanged===!0&&(n.direction=x,n.inflectionPoint=n.position),t("scroll",{...n})}function h(){l=ct(u,e.scrollTarget),l.addEventListener("scroll",c,be),c(!0)}function g(){l!==void 0&&(l.removeEventListener("scroll",c,be),l=void 0)}function c(w){if(w===!0||e.debounce===0||e.debounce==="0")a();else if(o===null){const[T,d]=e.debounce?[setTimeout(a,e.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];o=()=>{d(T),o=null}}}const{proxy:y}=O();return S(()=>y.$q.lang.rtl,a),Ae(()=>{u=y.$el.parentNode,h()}),X(()=>{o!==null&&o(),g()}),Object.assign(y,{trigger:c,getPosition:()=>n}),je}}),Ft=E({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=O(),l=q(null),u=q(o.screen.height),a=q(e.container===!0?0:o.screen.width),h=q({position:0,direction:"down",inflectionPoint:0}),g=q(0),c=q(Ie.value===!0?0:te()),y=f(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),w=f(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),T=f(()=>c.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${c.value}px`}:null),d=f(()=>c.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${c.value}px`,width:`calc(100% + ${c.value}px)`}:null);function x(s){if(e.container===!0||document.qScrollPrevented!==!0){const m={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};h.value=m,e.onScroll!==void 0&&n("scroll",m)}}function B(s){const{height:m,width:L}=s;let P=!1;u.value!==m&&(P=!0,u.value=m,e.onScrollHeight!==void 0&&n("scrollHeight",m),k()),a.value!==L&&(P=!0,a.value=L),P===!0&&e.onResize!==void 0&&n("resize",s)}function F({height:s}){g.value!==s&&(g.value=s,k())}function k(){if(e.container===!0){const s=u.value>g.value?te():0;c.value!==s&&(c.value=s)}}let i=null;const b={instances:{},view:f(()=>e.view),isContainer:f(()=>e.container),rootRef:l,height:u,containerHeight:g,scrollbarWidth:c,totalWidth:f(()=>a.value+c.value),rows:f(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:A({size:0,offset:0,space:!1}),right:A({size:300,offset:0,space:!1}),footer:A({size:0,offset:0,space:!1}),left:A({size:300,offset:0,space:!1}),scroll:h,animate(){i!==null?clearTimeout(i):document.body.classList.add("q-body--layout-animate"),i=setTimeout(()=>{i=null,document.body.classList.remove("q-body--layout-animate")},155)},update(s,m,L){b[s][m]=L}};if(qe(ae,b),te()>0){let L=function(){s=null,m.classList.remove("hide-scrollbar")},P=function(){if(s===null){if(m.scrollHeight>o.screen.height)return;m.classList.add("hide-scrollbar")}else clearTimeout(s);s=setTimeout(L,300)},z=function(K){s!==null&&K==="remove"&&(clearTimeout(s),L()),window[`${K}EventListener`]("resize",P)},s=null;const m=document.body;S(()=>e.container!==!0?"add":"remove",z),e.container!==!0&&z("add"),Ne(()=>{z("remove")})}return()=>{const s=Xe(t.default,[v(Lt,{onScroll:x}),v(ie,{onResize:B})]),m=v("div",{class:y.value,style:w.value,ref:e.container===!0?void 0:l,tabindex:-1},s);return e.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:l},[v(ie,{onResize:F}),v("div",{class:"absolute-full",style:T.value},[v("div",{class:"scroll",style:d.value},[m])])]):m}}});function we(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Mt=Ye({name:"close-popup",beforeMount(e,{value:t}){const n={depth:we(t),handler(o){n.depth!==0&&setTimeout(()=>{const l=dt(e);l!==void 0&&ft(l,o,n.depth)})},handlerKey(o){xe(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=we(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});export{Mt as C,Ft as Q,Bt as a,_t as b,Pt as c,$t as d,Ht as e,Rt as f,Qt as g};
